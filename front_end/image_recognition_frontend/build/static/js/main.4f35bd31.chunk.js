(this.webpackJsonpimage_recognition_frontend=this.webpackJsonpimage_recognition_frontend||[]).push([[0],{29:function(e,t,n){},57:function(e,t,n){},64:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(17),i=n.n(c),s=(n(57),n(29),n(8)),o=n(9),l=n(12),u=n(10),j=n(94),h=n(90),d=n(95),b=n(1),m=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(b.jsx)(j.a,{bg:"dark",variant:"dark",children:Object(b.jsxs)(h.a,{children:[Object(b.jsx)(j.a.Brand,{href:"home",children:"Image Recognization"}),Object(b.jsxs)(d.a,{className:"me-auto",children:[Object(b.jsx)(d.a.Link,{href:"home",children:"Home"}),Object(b.jsx)(d.a.Link,{href:"submit",children:"Submit"}),Object(b.jsx)(d.a.Link,{href:"review",children:"Review"}),Object(b.jsx)(d.a.Link,{href:"documentation",children:"Documentation"})]})]})})}}]),n}(a.Component),p=m,O=n.p+"static/media/logo.4c1098a1.png";var g=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsxs)("header",{className:"App-header",children:[Object(b.jsx)("img",{src:O,className:"App-logo",alt:"logo"}),Object(b.jsx)("p",{children:"Group Project of CS655, Fall 2021, at Boston University."}),Object(b.jsxs)("p",{children:["By",Object(b.jsx)("a",{className:"App-link",href:"https://github.com/troyyxk",target:"_blank",rel:"noopener noreferrer",children:"Xingkun Yin"}),",",Object(b.jsx)("a",{className:"App-link",href:"https://github.com/youyi1996",target:"_blank",rel:"noopener noreferrer",children:"Yi You"}),",",Object(b.jsx)("a",{className:"App-link",href:"https://github.com/SuJingyu111",target:"_blank",rel:"noopener noreferrer",children:"Jingyu Su"}),",",Object(b.jsx)("a",{className:"App-link",href:"https://github.com/wenyi999",target:"_blank",rel:"noopener noreferrer",children:"Boyi Song"})]}),Object(b.jsx)("p",{children:"Follow MIT Liscence."}),Object(b.jsx)("h5",{children:"Inmatural product, use at own risk."})]})})},f=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(b.jsx)("div",{className:"App-header",children:Object(b.jsx)("h1",{children:"Documentations here."})})}}]),n}(a.Component),x=f,v=(n(64),n(27)),k=n(41),S=n.n(k),y=n(91),w=n(92),I=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n),(e=t.call(this)).state={},e.handleOnClick=function(){for(var t in Object.keys(e.state.irImage)){var n=e.state.irImage[t].uuid;C(n).then((function(t){if(200!==t.status)return v.a.error("Upload image fail!"),console.error("Upload image fail!"),!1;var a,r=t.data.result.status,c=[],i=JSON.parse(window.localStorage.getItem("irImage"));for(var s in Object.keys(i))i[s].uuid===n&&(0===r?a="Status: Waiting":1===r?a="Status: Running":2===r?a=t.data.result.category:3===r&&(a="Status: Failed")),c.push({serialNum:i[s].serialNum,name:i[s].name,uuid:i[s].uuid,result:a});console.log("in getResult"),console.log(c),window.localStorage.setItem("irImage",JSON.stringify(c)),e.setState({irImage:c})})).catch((function(e){console.error("Error",e)}))}};var a=JSON.parse(window.localStorage.getItem("irImage"));return e.state={irImage:a},e}return Object(o.a)(n,[{key:"render",value:function(){return null===window.localStorage.getItem("irImage")?Object(b.jsx)("div",{className:"App-header",children:Object(b.jsx)("h1",{children:' Not tasks right now, please submit tasks at the "Submit" tab '})}):Object(b.jsxs)("div",{className:"App-header",children:[Object(b.jsx)(y.a,{variant:"info",onClick:this.handleOnClick,children:"Refresh"}),Object(b.jsxs)(w.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"#"}),Object(b.jsx)("th",{children:"Image Name"}),Object(b.jsx)("th",{children:"Predicted Result"})]})}),Object(b.jsx)("tbody",{children:this.state.irImage.map((function(e){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:e.serialNum}),Object(b.jsx)("td",{children:e.name}),Object(b.jsx)("td",{children:e.result})]})}))})]})]})}}]),n}(a.Component),N=function(e,t){var n=JSON.stringify({image_b64:e});return S.a.post("/api/upload/",n).then((function(e){if(200!==e.status)return v.a.error("Upload image fail!"),console.error("Upload image fail!"),!1;var n=[],a=JSON.parse(window.localStorage.getItem("irImage"));for(var r in Object.keys(a))a[r].name===t&&n.push({serialNum:a[r].serialNum,name:a[r].name,uuid:e.data.result.uuid,result:a[r].status});window.localStorage.setItem("irImage",JSON.stringify(n))})).catch((function(e){console.error("Error",e)})),!0},C=function(e){return S.a.get("/api/query/"+e+"/")};n(83);v.a.configure();var A=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={names:[],data:[]},e.onInputChange=function(t){null!==window.localStorage.getItem("irImage")&&window.localStorage.removeItem("irImage");for(var n=[],a=new Set,r=[],c=[],i=0;i<t.target.files.length;i++){var s=t.target.files[i],o=s.name;if(a.has(o))return void v.a.error("Cannot submit files with the same name!");a.add(o),n.push({serialNum:i+1,name:o,uuid:"",result:"Unknown"}),r.push(o),c.push(s)}window.localStorage.setItem("irImage",JSON.stringify(n)),e.setState({names:r}),e.setState({data:c})},e.onSubmit=function(t){t.preventDefault(),console.log("this.state");for(var n=new FileReader,a=0;a<e.state.data.length;a++){var r=e.state.names[a];n.onload=function(){var e=n.result;console.log(r),N(e,r)},n.readAsDataURL(e.state.data[a])}v.a.success("Files have been successfully uploaded! Please turn to review tab for checking the result.")},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(b.jsx)("div",{class:"col-md-6",children:Object(b.jsxs)("form",{method:"post",action:"#",id:"#",onSubmit:this.onSubmit,children:[Object(b.jsx)("div",{class:"form-group files color",children:Object(b.jsx)("input",{type:"file",onChange:this.onInputChange,class:"form-control"})}),Object(b.jsx)("button",{children:"Submit"})]})})}}]),n}(a.Component),J=A,F=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("div",{className:"App-header",children:[Object(b.jsx)("h1",{children:"Upload Your File "}),Object(b.jsx)(J,{})]})}}]),n}(a.Component),R=F,_=n(93),L=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("div",{className:"App-header",children:[Object(b.jsx)("h1",{children:" Refersh Status: "}),Object(b.jsx)(h.a,{fluid:"md",children:Object(b.jsx)(_.a,{children:Object(b.jsx)(I,{})})})]})}}]),n}(a.Component),U=L,B=n(96),D=n(97),P=n(98);var Y=function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)(p,{}),Object(b.jsx)(B.a,{children:Object(b.jsxs)(D.a,{children:[Object(b.jsx)(P.a,{extact:!0,path:"/home",component:g}),Object(b.jsx)(P.a,{extact:!0,path:"/documentation",component:x}),Object(b.jsx)(P.a,{extact:!0,path:"/submit",component:R}),Object(b.jsx)(P.a,{extact:!0,path:"/review",component:U}),Object(b.jsx)(P.a,{path:"/",component:g})]})})]})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,99)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};n(85);i.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(Y,{})}),document.getElementById("root")),E()}},[[86,1,2]]]);
//# sourceMappingURL=main.4f35bd31.chunk.js.map